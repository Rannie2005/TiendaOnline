{% extends 'base.html' %}
{% load static %}

{% block title %}Pago Exitoso{% endblock %}

{% block content %}
<div class="container mt-5 text-center">
    <h2 class="text-success mb-4">
        <i class="bi bi-check-circle-fill"></i> ¡Pago realizado con éxito!
    </h2>
    <p>Gracias por tu compra. Tu pedido ha sido registrado correctamente.</p>

    {% if pedido %}
        <h4 class="mt-4">Detalles de tu compra:</h4>
        <ul class="list-group mb-3">
            {% for item in pedido.items.all %}
            <li class="list-group-item d-flex justify-content-between">
                {{ item.articulo.articulo.nombre }} ({{ item.articulo.color }} - {{ item.articulo.talla }})
                <span>RD$ {{ item.subtotal }}</span>
            </li>
            {% endfor %}
            <li class="list-group-item d-flex justify-content-between fw-bold">
                Total
                <span>RD$ {{ pedido.total }}</span>
            </li>
        </ul>
    {% else %}
        <p class="text-danger">No se encontró información del pedido.</p>
    {% endif %}

    <a href="{% url 'mis_pedidos' %}" class="btn btn-dark btn-lg">
        <i class="bi bi-bag-check"></i> Ver mis pedidos
    </a>
</div>
{% endblock %}
